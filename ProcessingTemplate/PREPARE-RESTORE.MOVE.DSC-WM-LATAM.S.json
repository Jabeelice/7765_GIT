{
  "folder": "DSC-WM-LATAM",
  "highRiskStatisticMethod": "PERCENT",
  "highRiskStatisticPeriod": "MONTH",
  "owner": "TDROBISZ",
  "priority": "0",
  "processingType": "TASK",
  "serverNodeType": "INTERNAL",
  "statisticMethod": "AVERAGE",
  "statisticPeriod": "MONTH",
  "tags": 
  [
    "DSC-WM-LATAM",
    "NotMonitored"
  ],
  "taskType": "AE_SCRIPT",
  "customFieldValues": {
  },
  "processingCommand": {
    "script": ":DEFINE &AMODULES#, string, 20\n:FILL &AMODULES#[] = STR_SPLIT(\"&MODULES#\", \",\")\n:SET &LEN# = LENGTH(&AMODULES#[])\n\n! RESTORE modules\n:SET &WMS_RESTORE#        = \"false\"\n:SET &REFS_RESTORE#       = \"false\"\n:SET &RW_RESTORE#         = \"false\"\n:SET &EMS_RESTORE#        = \"false\"\n:SET &WMS_FAIL_RESTORE#   = \"false\"\n:SET &REFS_FAIL_RESTORE#  = \"false\"\n:SET &RW_FAIL_RESTORE#    = \"false\"\n:SET &EMS_FAIL_RESTORE#   = \"false\"\n\n:SET &WMS_DB_RESTORE#     = \"false\"\n:SET &REFS_DB_RESTORE#    = \"false\"\n:SET &EMS_DB_RESTORE#     = \"false\"\n\n:SET &WMS_APP_BACKUP#     = \"\"\n:SET &REFS_APP_BACKUP#    = \"\"\n:SET &RW_APP_BACKUP#      = \"\"\n:SET &EMS_APP_BACKUP#     = \"\"\n\n:SET &WMS_DB_CREATE#      = \"false\"\n:SET &REFS_DB_CREATE#     = \"false\"\n:SET &EMS_DB_CREATE#      = \"false\"\n:SET &WMS_ARCH_DB_CREATE# = \"false\"\n\n:IF &TGT_DB_SID# = \"\"\n:  SET &M_DB_VIP_PRI# = \"EMPTY\"\n:  SET &M_DB_SID# = \"EMPTY\"\n:  SET &M_DB_ADMIN_PASSWORD# = \"EMPTY\"\n:  SET &M_DB_ADMIN_USERNAME# = \"EMPTY\"\n:  SET &M_DB_PORT# = \"EMPTY\"\n:  SET &M_DB_NAME# = \"EMPTY\"\n:  SET &M_CERTIFICATE_PASSWORD# = \"EMPTY\"\n\n:  PUBLISH &M_DB_VIP_PRI#,,WORKFLOW\n:  PUBLISH &M_DB_SID#,,WORKFLOW\n:  PUBLISH &M_DB_ADMIN_PASSWORD#,,WORKFLOW\n:  PUBLISH &M_DB_ADMIN_USERNAME#,,WORKFLOW\n:  PUBLISH &M_DB_PORT#,,WORKFLOW\n:  PUBLISH &M_DB_NAME#,,WORKFLOW\n:  PUBLISH &M_CERTIFICATE_PASSWORD#,,WORKFLOW\n:ENDIF\n\n:SET &RUNVAR# = 1\n:WHILE &RUNVAR# LE &LEN#\n:  SWITCH \"Y\"\n:    CASE &AMODULES#[&RUNVAR#] = \"WMS\"\n:      SET &WMS_RESTORE# = \"true\"\n:      SET &WMS_APP_BACKUP# = &WMS_BACKUP_FILE#\n:      SET &WMS_PRIMARY_SERVER# = &TGT_WMS_PRIMARY_SERVER#\n:      PUBLISH &WMS_PRIMARY_SERVER#,,WORKFLOW\n:      SET &SR# = STR_FIND(&WMS_PRIMARY_SERVER_URL#, \":\")\n:      SET &SR# = &SR# - 1\n:      SET &SP# = STR_FIND_REVERSE(&WMS_PRIMARY_SERVER_URL#, \":\")\n:      SET &SP# = &SP# + 1\n:      SET &EP# = STR_FIND_REVERSE(&WMS_PRIMARY_SERVER_URL#, \"/\")\n:      SET &STR_LENGTH# = &EP# - &SP#\n:      SET &EP# = &EP# + 1\n:      SET &PROT# = SUBSTR(&WMS_PRIMARY_SERVER_URL#, 1, &SR#)\n:      SET &PORT# = SUBSTR(&WMS_PRIMARY_SERVER_URL#, &SP#, &STR_LENGTH#)\n:      SET &SERV# = SUBSTR(&WMS_PRIMARY_SERVER_URL#, &EP#)\n:      SET &WMS_PRIMARY_SERVER_URL# = \"&PROT#://&TGT_WMS_PRIMARY_SERVER#:&PORT#/&SERV#\"\n:    CASE &AMODULES#[&RUNVAR#] = \"REFS\"\n:      SET &REFS_RESTORE# = \"true\"\n:      SET &REFS_APP_BACKUP# = &REFS_BACKUP_FILE#\n:      SET &REFS_PRIMARY_SERVER# = &TGT_REFS_PRIMARY_SERVER#\n:      PUBLISH &REFS_PRIMARY_SERVER#,,WORKFLOW\n:      SET &SR# = STR_FIND(&REFS_PRIMARY_SERVER_URL#, \":\")\n:      SET &SR# = &SR# - 1\n:      SET &SP# = STR_FIND_REVERSE(&REFS_PRIMARY_SERVER_URL#, \":\")\n:      SET &SP# = &SP# + 1\n:      SET &PROT# = SUBSTR(&REFS_PRIMARY_SERVER_URL#, 1, &SR#)\n:      SET &PORT# = SUBSTR(&REFS_PRIMARY_SERVER_URL#, &SP#)\n:      SET &REFS_PRIMARY_SERVER_URL# = \"&PROT#://&TGT_REFS_PRIMARY_SERVER#:&PORT#\"\n:    CASE &AMODULES#[&RUNVAR#] = \"RW\"\n:      SET &RW_RESTORE# = \"true\"\n:      SET &RW_APP_BACKUP# = &RW_BACKUP_FILE#\n:      SET &RW_PRIMARY_SERVER# = &TGT_RW_PRIMARY_SERVER#\n:      PUBLISH &RW_PRIMARY_SERVER#,,WORKFLOW\n:      SET &SR# = STR_FIND(&RW_PRIMARY_SERVER_URL#, \":\")\n:      SET &SR# = &SR# - 1\n:      SET &SP# = STR_FIND_REVERSE(&RW_PRIMARY_SERVER_URL#, \":\")\n:      SET &SP# = &SP# + 1\n:      SET &EP# = STR_FIND_REVERSE(&RW_PRIMARY_SERVER_URL#, \"/\")\n:      SET &STR_LENGTH# = &EP# - &SP#\n:      SET &EP# = &EP# + 1\n:      SET &PROT# = SUBSTR(&RW_PRIMARY_SERVER_URL#, 1, &SR#)\n:      SET &PORT# = SUBSTR(&RW_PRIMARY_SERVER_URL#, &SP#, &STR_LENGTH#)\n:      SET &SERV# = SUBSTR(&RW_PRIMARY_SERVER_URL#, &EP#)\n:      SET &RW_PRIMARY_SERVER_URL# = \"&PROT#://&TGT_RW_PRIMARY_SERVER#:&PORT#/&SERV#\"\n:    CASE &AMODULES#[&RUNVAR#] = \"EMS\"\n:      SET &EMS_RESTORE# = \"true\"\n:      SET &EMS_APP_BACKUP# = &EMS_BACKUP_FILE#\n:      SET &EMS_PRIMARY_SERVER# = &TGT_EMS_PRIMARY_SERVER#\n:      PUBLISH &EMS_PRIMARY_SERVER#,,WORKFLOW\n:      SET &SR# = STR_FIND(&EMS_PRIMARY_SERVER_URL#, \":\")\n:      SET &SR# = &SR# - 1\n:      SET &SP# = STR_FIND_REVERSE(&EMS_PRIMARY_SERVER_URL#, \":\")\n:      SET &SP# = &SP# + 1\n:      SET &EP# = STR_FIND_REVERSE(&EMS_PRIMARY_SERVER_URL#, \"/\")\n:      SET &STR_LENGTH# = &EP# - &SP#\n:      SET &EP# = &EP# + 1\n:      SET &PROT# = SUBSTR(&EMS_PRIMARY_SERVER_URL#, 1, &SR#)\n:      SET &PORT# = SUBSTR(&EMS_PRIMARY_SERVER_URL#, &SP#, &STR_LENGTH#)\n:      SET &SERV# = SUBSTR(&EMS_PRIMARY_SERVER_URL#, &EP#)\n:      SET &EMS_PRIMARY_SERVER_URL# = \"&PROT#://&TGT_EMS_PRIMARY_SERVER#:&PORT#/&SERV#\"\n:    CASE &AMODULES#[&RUNVAR#] = \"WMS-FAIL\"\n:      SET &WMS_FAIL_RESTORE# = \"true\"\n:      SET &WMS_FAILOVER_SERVER# = &TGT_WMS_FAILOVER_SERVER#\n:      PUBLISH &WMS_FAILOVER_SERVER#,,WORKFLOW\n:      SET &SR# = STR_FIND(&WMS_FAILOVER_SERVER_URL#, \":\")\n:      SET &SR# = &SR# - 1\n:      SET &SP# = STR_FIND_REVERSE(&WMS_FAILOVER_SERVER_URL#, \":\")\n:      SET &SP# = &SP# + 1\n:      SET &EP# = STR_FIND_REVERSE(&WMS_FAILOVER_SERVER_URL#, \"/\")\n:      SET &STR_LENGTH# = &EP# - &SP#\n:      SET &EP# = &EP# + 1\n:      SET &PROT# = SUBSTR(&WMS_FAILOVER_SERVER_URL#, 1, &SR#)\n:      SET &PORT# = SUBSTR(&WMS_FAILOVER_SERVER_URL#, &SP#, &STR_LENGTH#)\n:      SET &SERV# = SUBSTR(&WMS_FAILOVER_SERVER_URL#, &EP#)\n:      SET &WMS_FAILOVER_SERVER_URL# = \"&PROT#://&TGT_WMS_FAILOVER_SERVER#:&PORT#/&SERV#\"\n:    CASE &AMODULES#[&RUNVAR#] = \"REFS-FAIL\"\n:      SET &REFS_FAIL_RESTORE# = \"true\"\n:      SET &REFS_FAILOVER_SERVER# = &TGT_REFS_FAILOVER_SERVER#\n:      PUBLISH &REFS_FAILOVER_SERVER#,,WORKFLOW\n:      SET &SR# = STR_FIND(&REFS_FAILOVER_SERVER_URL#, \":\")\n:      SET &SR# = &SR# - 1\n:      SET &SP# = STR_FIND_REVERSE(&REFS_FAILOVER_SERVER_URL#, \":\")\n:      SET &SP# = &SP# + 1\n:      SET &PROT# = SUBSTR(&REFS_FAILOVER_SERVER_URL#, 1, &SR#)\n:      SET &PORT# = SUBSTR(&REFS_FAILOVER_SERVER_URL#, &SP#)\n:      SET &REFS_FAILOVER_SERVER_URL# = \"&PROT#://&TGT_REFS_FAILOVER_SERVER#:&PORT#\"\n:    CASE &AMODULES#[&RUNVAR#] = \"RW-FAIL\"\n:      SET &RW_FAIL_RESTORE# = \"true\"\n:      SET &RW_FAILOVER_SERVER# = &TGT_RW_FAILOVER_SERVER#\n:      PUBLISH &RW_FAILOVER_SERVER#,,WORKFLOW\n:      SET &SR# = STR_FIND(&RW_FAILOVER_SERVER_URL#, \":\")\n:      SET &SR# = &SR# - 1\n:      SET &SP# = STR_FIND_REVERSE(&RW_FAILOVER_SERVER_URL#, \":\")\n:      SET &SP# = &SP# + 1\n:      SET &EP# = STR_FIND_REVERSE(&RW_FAILOVER_SERVER_URL#, \"/\")\n:      SET &STR_LENGTH# = &EP# - &SP#\n:      SET &EP# = &EP# + 1\n:      SET &PROT# = SUBSTR(&RW_FAILOVER_SERVER_URL#, 1, &SR#)\n:      SET &PORT# = SUBSTR(&RW_FAILOVER_SERVER_URL#, &SP#, &STR_LENGTH#)\n:      SET &SERV# = SUBSTR(&RW_FAILOVER_SERVER_URL#, &EP#)\n:      SET &RW_FAILOVER_SERVER_URL# = \"&PROT#://&TGT_RW_FAILOVER_SERVER#:&PORT#/&SERV#\"\n:    CASE &AMODULES#[&RUNVAR#] = \"EMS-FAIL\"\n:      SET &EMS_FAIL_RESTORE# = \"true\"\n:      SET &EMS_FAILOVER_SERVER# = &TGT_EMS_FAILOVER_SERVER#\n:      PUBLISH &EMS_FAILOVER_SERVER#,,WORKFLOW\n:      SET &SR# = STR_FIND(&EMS_FAILOVER_SERVER_URL#, \":\")\n:      SET &SR# = &SR# - 1\n:      SET &SP# = STR_FIND_REVERSE(&EMS_FAILOVER_SERVER_URL#, \":\")\n:      SET &SP# = &SP# + 1\n:      SET &EP# = STR_FIND_REVERSE(&EMS_FAILOVER_SERVER_URL#, \"/\")\n:      SET &STR_LENGTH# = &EP# - &SP#\n:      SET &EP# = &EP# + 1\n:      SET &PROT# = SUBSTR(&EMS_FAILOVER_SERVER_URL#, 1, &SR#)\n:      SET &PORT# = SUBSTR(&EMS_FAILOVER_SERVER_URL#, &SP#, &STR_LENGTH#)\n:      SET &SERV# = SUBSTR(&EMS_FAILOVER_SERVER_URL#, &EP#)\n:      SET &EMS_FAILOVER_SERVER_URL# = \"&PROT#://&TGT_EMS_FAILOVER_SERVER#:&PORT#/&SERV#\"\n:    CASE &AMODULES#[&RUNVAR#] = \"DB_WMS\"\n:      SET &WMS_DB_CREATE# = \"true\"\n:    CASE &AMODULES#[&RUNVAR#] = \"DB_REFS\"\n:      SET &REFS_DB_CREATE# = \"true\"\n:    CASE &AMODULES#[&RUNVAR#] = \"DB_EMS\"\n:      SET &EMS_DB_CREATE# = \"true\"\n:    CASE &AMODULES#[&RUNVAR#] = \"DB_ARCH\"\n:      SET &WMS_ARCH_DB_CREATE# = \"true\"\n:  ENDSWITCH\n:  SET &RUNVAR# = &RUNVAR# + 1\n:ENDWHILE\n\n:PUBLISH &WMS_APP_BACKUP#,,WORKFLOW\n:PUBLISH &REFS_APP_BACKUP#,,WORKFLOW\n:PUBLISH &RW_APP_BACKUP#,,WORKFLOW\n:PUBLISH &EMS_APP_BACKUP#,,WORKFLOW\n\n:PUBLISH &WMS_RESTORE#,,WORKFLOW\n:PUBLISH &REFS_RESTORE#,,WORKFLOW\n:PUBLISH &RW_RESTORE#,,WORKFLOW\n:PUBLISH &EMS_RESTORE#,,WORKFLOW\n\n:PUBLISH &WMS_FAIL_RESTORE#,,WORKFLOW\n:PUBLISH &REFS_FAIL_RESTORE#,,WORKFLOW\n:PUBLISH &RW_FAIL_RESTORE#,,WORKFLOW\n:PUBLISH &EMS_FAIL_RESTORE#,,WORKFLOW\n\n:PUBLISH &WMS_DB_RESTORE#,,WORKFLOW\n:PUBLISH &REFS_DB_RESTORE#,,WORKFLOW\n:PUBLISH &EMS_DB_RESTORE#,,WORKFLOW\n\n:PUBLISH &WMS_DB_CREATE#,,WORKFLOW\n:PUBLISH &REFS_DB_CREATE#,,WORKFLOW\n:PUBLISH &EMS_DB_CREATE#,,WORKFLOW\n:PUBLISH &WMS_ARCH_DB_CREATE#,,WORKFLOW\n\n:IF &TGT_WMS_PRIMARY_SERVER# = \"\"\n:   SET &WMS_PRIMARY_SERVER_URL# = \"EMPTY\"\n:ENDIF\n\n:IF &TGT_REFS_PRIMARY_SERVER# = \"\"\n:   SET &REFS_PRIMARY_SERVER_URL# = \"EMPTY\"\n:ENDIF\n\n:IF &TGT_EMS_PRIMARY_SERVER# = \"\"\n:   SET &EMS_PRIMARY_SERVER_URL# = \"EMPTY\"\n:ENDIF\n\n:IF &TGT_RW_PRIMARY_SERVER# = \"\"\n:   SET &RW_PRIMARY_SERVER_URL# = \"EMPTY\"\n:ENDIF\n\n:IF &TGT_WMS_FAILOVER_SERVER# = \"\"\n:   SET &WMS_FAILOVER_SERVER_URL# = \"EMPTY\"\n:ENDIF\n\n:IF &TGT_REFS_FAILOVER_SERVER# = \"\"\n:   SET &REFS_FAILOVER_SERVER_URL# = \"EMPTY\"\n:ENDIF\n\n:IF &TGT_EMS_FAILOVER_SERVER# = \"\"\n:   SET &EMS_FAILOVER_SERVER_URL# = \"EMPTY\"\n:ENDIF\n\n:IF &TGT_RW_FAILOVER_SERVER# = \"\"\n:   SET &RW_FAILOVER_SERVER_URL# = \"EMPTY\"\n:ENDIF\n\n:PUBLISH &WMS_PRIMARY_SERVER_URL#,,WORKFLOW\n:PUBLISH &REFS_PRIMARY_SERVER_URL#,,WORKFLOW\n:PUBLISH &RW_PRIMARY_SERVER_URL#,,WORKFLOW\n:PUBLISH &EMS_PRIMARY_SERVER_URL#,,WORKFLOW\n\n:PUBLISH &WMS_FAILOVER_SERVER_URL#,,WORKFLOW\n:PUBLISH &REFS_FAILOVER_SERVER_URL#,,WORKFLOW\n:PUBLISH &RW_FAILOVER_SERVER_URL#,,WORKFLOW\n:PUBLISH &EMS_FAILOVER_SERVER_URL#,,WORKFLOW\n\n! STOP modules all\n:SET &WMS_STOP#          = \"false\"\n:SET &REFS_STOP#         = \"false\"\n:SET &RW_STOP#           = \"false\"\n:SET &EMS_STOP#          = \"false\"\n:SET &WMS_FAIL_STOP#     = \"false\"\n:SET &REFS_FAIL_STOP#    = \"false\"\n:SET &RW_FAIL_STOP#      = \"false\"\n:SET &EMS_FAIL_STOP#     = \"false\"\n\n:PUBLISH &WMS_STOP#,,WORKFLOW\n:PUBLISH &REFS_STOP#,,WORKFLOW\n:PUBLISH &RW_STOP#,,WORKFLOW\n:PUBLISH &EMS_STOP#,,WORKFLOW\n:PUBLISH &WMS_FAIL_STOP#,,WORKFLOW\n:PUBLISH &REFS_FAIL_STOP#,,WORKFLOW\n:PUBLISH &RW_FAIL_STOP#,,WORKFLOW\n:PUBLISH &EMS_FAIL_STOP#,,WORKFLOW\n\n! RESTART modules\n:SET &WMS_RESTART#       = \"false\"\n:SET &REFS_RESTART#      = \"false\"\n:SET &RW_RESTART#        = \"false\"\n:SET &EMS_RESTART#       = \"false\"\n:SET &WMS_FAIL_RESTART#  = \"false\"\n:SET &REFS_FAIL_RESTART# = \"false\"\n:SET &RW_FAIL_RESTART#   = \"false\"\n:SET &EMS_FAIL_RESTART#  = \"false\"\n\n:PUBLISH &WMS_RESTART#,,WORKFLOW\n:PUBLISH &REFS_RESTART#,,WORKFLOW\n:PUBLISH &RW_RESTART#,,WORKFLOW\n:PUBLISH &EMS_RESTART#,,WORKFLOW\n:PUBLISH &WMS_FAIL_RESTART#,,WORKFLOW\n:PUBLISH &REFS_FAIL_RESTART#,,WORKFLOW\n:PUBLISH &RW_FAIL_RESTART#,,WORKFLOW\n:PUBLISH &EMS_FAIL_RESTART#,,WORKFLOW\n"
  }
}