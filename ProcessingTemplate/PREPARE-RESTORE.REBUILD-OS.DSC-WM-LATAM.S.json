{
  "folder": "DSC-WM-LATAM",
  "highRiskStatisticMethod": "PERCENT",
  "highRiskStatisticPeriod": "MONTH",
  "owner": "TDROBISZ",
  "priority": "0",
  "processingType": "TASK",
  "serverNodeType": "INTERNAL",
  "statisticMethod": "AVERAGE",
  "statisticPeriod": "MONTH",
  "tags": 
  [
    "DSC-WM-LATAM",
    "NotMonitored"
  ],
  "taskType": "AE_SCRIPT",
  "customFieldValues": {
  },
  "processingCommand": {
    "script": "! RESTORE modules\n:SET &MODULES# = \"\"\n\n:SET &WMS_RESTORE#       = \"false\"\n:SET &REFS_RESTORE#      = \"false\"\n:SET &RW_RESTORE#        = \"false\"\n:SET &EMS_RESTORE#       = \"false\"\n:SET &WMS_FAIL_RESTORE#  = \"false\"\n:SET &REFS_FAIL_RESTORE# = \"false\"\n:SET &RW_FAIL_RESTORE#   = \"false\"\n:SET &EMS_FAIL_RESTORE#  = \"false\"\n\n:SET &WMS_DB_RESTORE#    = \"false\"\n:SET &REFS_DB_RESTORE#   = \"false\"\n:SET &EMS_DB_RESTORE#    = \"false\"\n\n:SET &WMS_STOP#          = &WMS_RESTORE#\n:SET &REFS_STOP#         = &REFS_RESTORE#\n:SET &RW_STOP#           = &RW_RESTORE#\n:SET &EMS_STOP#          = &EMS_RESTORE#\n:SET &WMS_FAIL_STOP#     = &WMS_FAIL_RESTORE#\n:SET &REFS_FAIL_STOP#    = &REFS_FAIL_RESTORE#\n:SET &RW_FAIL_STOP#      = &RW_FAIL_RESTORE#\n:SET &EMS_FAIL_STOP#     = &EMS_FAIL_RESTORE#\n\n:SET &WMS_RESTART#       = &WMS_RESTORE#\n:SET &REFS_RESTART#      = &REFS_RESTORE#\n:SET &RW_RESTART#        = &RW_RESTORE#\n:SET &EMS_RESTART#       = &EMS_RESTORE#\n:SET &WMS_FAIL_RESTART#  = &WMS_FAIL_RESTORE#\n:SET &REFS_FAIL_RESTART# = &REFS_FAIL_RESTORE#\n:SET &RW_FAIL_RESTART#   = &RW_FAIL_RESTORE#\n:SET &EMS_FAIL_RESTART#  = &EMS_FAIL_RESTORE#\n\n:IF &WMS_PRIMARY_SERVER# <> \"\"\n:  IF &WMS_PRIMARY_SERVER# = &SERVER_NAME#\n:    SET &WMS_RESTORE# = \"true\"\n:    SET &MODULES# = STR_CAT(&MODULES#, \"WMS,\")\n:  ENDIF\n:ENDIF\n\n:IF &REFS_PRIMARY_SERVER# <> \"\"\n:  IF &REFS_PRIMARY_SERVER# = &SERVER_NAME#\n:    SET &REFS_RESTORE# = \"true\"\n:    SET &MODULES# = STR_CAT(&MODULES#, \"REFS,\")\n:  ENDIF\n:ENDIF\n\n:IF &RW_PRIMARY_SERVER# <> \"\"\n:  IF &RW_PRIMARY_SERVER# = &SERVER_NAME#\n:    SET &RW_RESTORE# = \"true\"\n:    SET &MODULES# = STR_CAT(&MODULES#, \"RW,\")\n:  ENDIF\n:ENDIF\n\n:IF &EMS_PRIMARY_SERVER# <> \"\"\n:  IF &EMS_PRIMARY_SERVER# = &SERVER_NAME#\n:    SET &EMS_RESTORE# = \"true\"\n:    SET &MODULES# = STR_CAT(&MODULES#, \"EMS,\")\n:  ENDIF\n:ENDIF\n\n:IF &WMS_FAILOVER_SERVER# <> \"\"\n:  IF &WMS_FAILOVER_SERVER# = &SERVER_NAME#\n:    SET &RET# = STR_MATCH(&MODULES#, \"*WMS*\")\n:    IF &RET# = \"N\"\n:      SET &MODULES# = STR_CAT(&MODULES#, \"WMS,\")\n:    ENDIF\n:    SET &FAILOVER# = \"true\"\n:    SET &WMS_FAIL_RESTORE#  = \"true\"\n:  ENDIF\n:ENDIF\n\n:IF &REFS_FAILOVER_SERVER# <> \"\"\n:  IF &REFS_FAILOVER_SERVER# = &SERVER_NAME#\n:    SET &RET# = STR_MATCH(&MODULES#, \"*REFS*\")\n:    IF &RET# = \"N\"\n:      SET &MODULES# = STR_CAT(&MODULES#, \"REFS,\")\n:    ENDIF\n:    SET &FAILOVER# = \"true\"\n:    SET &REFS_FAIL_RESTORE#  = \"true\"\n:  ENDIF\n:ENDIF\n\n:IF &RW_FAILOVER_SERVER# <> \"\"\n:  IF &RW_FAILOVER_SERVER# = &SERVER_NAME#\n:    SET &RET# = STR_MATCH(&MODULES#, \"*RW*\")\n:    IF &RET# = \"N\"\n:      SET &MODULES# = STR_CAT(&MODULES#, \"RW,\")\n:    ENDIF\n:    SET &FAILOVER# = \"true\"\n:    SET &RW_FAIL_RESTORE#  = \"true\"\n:  ENDIF\n:ENDIF\n\n:IF &EMS_FAILOVER_SERVER# <> \"\"\n:  IF &EMS_FAILOVER_SERVER# = &SERVER_NAME#\n:    SET &RET# = STR_MATCH(&MODULES#, \"*EMS*\")\n:    IF &RET# = \"N\"\n:      SET &MODULES# = STR_CAT(&MODULES#, \"EMS,\")\n:    ENDIF\n:    SET &FAILOVER# = \"true\"\n:    SET &EMS_FAIL_RESTORE#  = \"true\"\n:  ENDIF\n:ENDIF\n\n! Restore modules\n:PUBLISH &WMS_RESTORE#,,WORKFLOW\n:PUBLISH &REFS_RESTORE#,,WORKFLOW\n:PUBLISH &RW_RESTORE#,,WORKFLOW\n:PUBLISH &EMS_RESTORE#,,WORKFLOW\n:PUBLISH &WMS_FAIL_RESTORE#,,WORKFLOW\n:PUBLISH &REFS_FAIL_RESTORE#,,WORKFLOW\n:PUBLISH &RW_FAIL_RESTORE#,,WORKFLOW\n:PUBLISH &EMS_FAIL_RESTORE#,,WORKFLOW\n\n:PUBLISH &WMS_DB_RESTORE#,,WORKFLOW\n:PUBLISH &REFS_DB_RESTORE#,,WORKFLOW\n:PUBLISH &EMS_DB_RESTORE#,,WORKFLOW\n\n! Stop modules\n:PUBLISH &WMS_STOP#,,WORKFLOW\n:PUBLISH &REFS_STOP#,,WORKFLOW\n:PUBLISH &RW_STOP#,,WORKFLOW\n:PUBLISH &EMS_STOP#,,WORKFLOW\n:PUBLISH &WMS_FAIL_STOP#,,WORKFLOW\n:PUBLISH &REFS_FAIL_STOP#,,WORKFLOW\n:PUBLISH &RW_FAIL_STOP#,,WORKFLOW\n:PUBLISH &EMS_FAIL_STOP#,,WORKFLOW\n\n! Restart modules\n:PUBLISH &WMS_RESTART#,,WORKFLOW\n:PUBLISH &REFS_RESTART#,,WORKFLOW\n:PUBLISH &RW_RESTART#,,WORKFLOW\n:PUBLISH &EMS_RESTART#,,WORKFLOW\n:PUBLISH &WMS_FAIL_RESTART#,,WORKFLOW\n:PUBLISH &REFS_FAIL_RESTART#,,WORKFLOW\n:PUBLISH &RW_FAIL_RESTART#,,WORKFLOW\n:PUBLISH &EMS_FAIL_RESTART#,,WORKFLOW\n\n:SET &RESTART_TYPE_PARAMETER# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V, \"RESTART_TYPE_PARAMETER\", 1)\n:PUBLISH &RESTART_TYPE_PARAMETER#,,WORKFLOW\n\n:PUBLISH &FAILOVER#,,WORKFLOW\n\n:SET &INSTANCE_STOP# = \"N\"\n:PUBLISH &INSTANCE_STOP#,,WORKFLOW\n\n:SET &LENGTH# = STR_LENGTH(&MODULES#)\n:IF &LENGTH# > 0\n:  SET &LE# = &LENGTH# - 1\n:  SET &MODULES# = SUBSTR(&MODULES#, 1, &LE#)\n:ENDIF\n\n:PUBLISH &MODULES#,,WORKFLOW\n\n! Parse backups\n:SET &WMS_APP_BACKUP# = \"\"\n:SET &REFS_APP_BACKUP# = \"\"\n:SET &EMS_APP_BACKUP# = \"\"\n:SET &RW_APP_BACKUP# = \"\"\n\n:SET &BACKUPS# = SUBSTR(&BACKUPS#,2)\n:DEFINE &ABACKUPS#, STRING, 50\n:FILL &ABACKUPS#[] = STR_SPLIT(\"&BACKUPS#\", \",\")\n\n:SET &MAX_COUNTER# = 50\n\n:SET &COUNTER# = 1\n:WHILE &COUNTER# LE  &MAX_COUNTER#\n:  IF &ABACKUPS#[&COUNTER#] = &INSTANCE_NAME#\n\n:    SET &COUNTER# = &COUNTER# + 1\n:    SET &WMS_APP_BACKUP# = &ABACKUPS#[&COUNTER#]\n\n:    SET &COUNTER# = &COUNTER# + 1\n:    SET &REFS_APP_BACKUP# = &ABACKUPS#[&COUNTER#]\n\n:    SET &COUNTER# = &COUNTER# + 1\n:    SET &EMS_APP_BACKUP# = &ABACKUPS#[&COUNTER#]\n\n:    SET &COUNTER# = &COUNTER# + 1\n:    SET &RW_APP_BACKUP# = &ABACKUPS#[&COUNTER#]\n\n:    SET &COUNTER# = &COUNTER# + 1\n:    SET &WMS_FAIL_APP_BACKUP# = &ABACKUPS#[&COUNTER#]\n\n:    SET &COUNTER# = &COUNTER# + 1\n:    SET &REFS_FAIL_APP_BACKUP# = &ABACKUPS#[&COUNTER#]\n\n:    SET &COUNTER# = &COUNTER# + 1\n:    SET &EMS_FAIL_APP_BACKUP# = &ABACKUPS#[&COUNTER#]\n\n:    SET &COUNTER# = &COUNTER# + 1\n:    SET &RW_FAIL_APP_BACKUP# = &ABACKUPS#[&COUNTER#]\n\n:  ELSE\n:    SET &COUNTER# = &COUNTER# + 9\n:  ENDIF\n:ENDWHILE\n\n:PUBLISH &WMS_APP_BACKUP#,,WORKFLOW\n:PUBLISH &REFS_APP_BACKUP#,,WORKFLOW\n:PUBLISH &EMS_APP_BACKUP#,,WORKFLOW\n:PUBLISH &RW_APP_BACKUP#,,WORKFLOW\n\n:PUBLISH &WMS_FAIL_APP_BACKUP#,,WORKFLOW\n:PUBLISH &REFS_FAIL_APP_BACKUP#,,WORKFLOW\n:PUBLISH &EMS_FAIL_APP_BACKUP#,,WORKFLOW\n:PUBLISH &RW_FAIL_APP_BACKUP#,,WORKFLOW"
  }
}