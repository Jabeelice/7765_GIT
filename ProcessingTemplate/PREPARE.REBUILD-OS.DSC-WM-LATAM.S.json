{
  "folder": "DSC-WM-LATAM",
  "highRiskStatisticMethod": "PERCENT",
  "highRiskStatisticPeriod": "MONTH",
  "owner": "tomas.drobisz@infinitedata.com",
  "priority": "0",
  "processingType": "TASK",
  "serverNodeType": "INTERNAL",
  "statisticMethod": "AVERAGE",
  "statisticPeriod": "MONTH",
  "tags": 
  [
    "DSC-WM-LATAM",
    "NotMonitored"
  ],
  "taskType": "AE_SCRIPT",
  "customFieldValues": {
  },
  "processingCommand": {
    "script": ":SET &COPY_INTEGRATOR# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,COPY_INTEGRATOR,1)\n:SET &CREATESFTP_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,CREATESFTP_SCRIPT_NAME,1)\n:SET &REPLICATE_MQS_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,REPLICATE_MQS_SCRIPT_NAME,1)\n:SET &REPLICATE_CERT_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,REPLICATE_CERT_SCRIPT_NAME,1)\n:SET &TZ# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,TIME_ZONE,1)\n:SET &INSTALL_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,INSTALL_SCRIPT_NAME,1)\n:SET &REPLICATE_A_KEY_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,REPLICATE_A_KEY_SCRIPT_NAME,1)\n:SET &REPLICATE_PRINTERS_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,REPLICATE_PRINTERS_SCRIPT_NAME,1)\n:SET &PRECHECK_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,PRECHECK_SCRIPT_NAME,1)\n:SET &RPTABUPDATE_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,RPTABUPDATE_SCRIPT_NAME,1)\n:SET &GET_SERVER_INFO_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,GET_SERVER_INFO_SCRIPT_NAME,1)\n:SET &REPLICATE_Z_PSK_SCRIPT_NAME# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V,REPLICATE_Z_PSK_SCRIPT_NAME,1)\n\n:PUB &COPY_INTEGRATOR# \n:PUB &CREATESFTP_SCRIPT_NAME# \n:PUB &REPLICATE_MQS_SCRIPT_NAME# \n:PUB &REPLICATE_CERT_SCRIPT_NAME# \n:PUB &TZ# \n:PUB &INSTALL_SCRIPT_NAME# \n:PUB &REPLICATE_A_KEY_SCRIPT_NAME# \n:PUB &REPLICATE_PRINTERS_SCRIPT_NAME# \n:PUB &PRECHECK_SCRIPT_NAME# \n:PUB &RPTABUPDATE_SCRIPT_NAME# \n:PUB &GET_SERVER_INFO_SCRIPT_NAME# \n:PUB &REPLICATE_Z_PSK_SCRIPT_NAME# \n\n:SET &RUN_ID#      = SYS_ACT_PARENT_NR()\n:SET &RUN_ID#      = FORMAT(&RUN_ID#)\n!:PUBLISH &RUN_ID#,,WORKFLOW\n\n! INC/CTASK\n:SET &TICKET_TYPE# = \"\"\n\n:IF &TICKET# = \"null\"\n:  SET &TICKET# = \"\"\n:  PUBLISH &TICKET#,,WORKFLOW\n:ENDIF\n\n:IF &TICKET# <> \"\"\n:  SET &INC# = SUBSTR(&TICKET#,1,3)\n:  SET &CTA# = SUBSTR(&TICKET#,1,5)\n:  IF &INC# = \"INC\"\n:    SET &TICKET_TYPE# = \"INC\"\n:  ELSE\n:    IF &CTA# = \"CTASK\"\n:      SET &TICKET_TYPE# = \"CTASK\"\n:    ELSE\n:      PRINT \"WARNING - No valid INC/CTASK!\"\n:      SET &TICKET_TYPE# = \"\"\n:    ENDIF\n:  ENDIF\n:ENDIF\n:PUBLISH &TICKET_TYPE#\n\n! Get current time and date\n:SET &TIME_NOW#  = SYS_TIME_PHYSICAL(\"HH:MM:SS\",\"&TZ#\")\n:SET &DATE_NOW#  = SYS_DATE_PHYSICAL(\"YYYY-MM-DD\",\"&TZ#\")\n:PUBLISH &TIME_NOW#,,WORKFLOW\n:PUBLISH &DATE_NOW#,,WORKFLOW\n\n! Instances\n:DEFINE &AINSTANCES#, STRING, 6\n:FILL &AINSTANCES#[] = STR_SPLIT(\"&INSTANCES#\", \",\")\n:PUBLISH &AINSTANCES#,,WORKFLOW\n\n! First Instance\n:SET &FIRST_INSTANCE_NAME# = &AINSTANCES#[1]\n:PUBLISH  &FIRST_INSTANCE_NAME#,,WORKFLOW\n\n! Modules\n:SET &REST_MODULES# = \"WMS,REFS,RW,EMS\"\n:PUBLISH &REST_MODULES#,,WORKFLOW\n\n! Login\n:SET &MODULE_LOGIN# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V, \"LOGIN\", 1)\n:PUBLISH &MODULE_LOGIN#,,WORKFLOW\n\n:SET &NUMBER_ID# = \"\"\n:PUBLISH &NUMBER_ID#,,WORKFLOW\n\n:SET &CLOSE_NUMBER_ID# = \"\"\n:PUBLISH &CLOSE_NUMBER_ID#,,WORKFLOW\n\n:SET &CTASK_UPDATE_STATUS# = \"\"\n:PUBLISH &CTASK_UPDATE_STATUS#,,WORKFLOW\n\n:SET &ZABBIX_MAINTENANCESID# = \"\"\n:PUBLISH &ZABBIX_MAINTENANCESID#,,WORKFLOW\n\n! Event Assignment Group\n:IF &CHILD_SERVICE# = \"JDA WM - TEST\"\n:  SET &EVENT_ASSIGNMENT_GROUP#  = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V, \"EVENT_ASSIGNMENT_GROUP\", 1)\n:  SET &PROD_ASSIGNMENT_MESSAGE# = \"\"\n:  SET &JDA_REBUILD_IS_PROV# = \"False\"\n:ELSE\n:  SET &EVENT_ASSIGNMENT_GROUP#  = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V, \"EVENT_ASSIGNMENT_GROUP_PROD\", 1)\n:  SET &PROD_ASSIGNMENT_MESSAGE# = GET_VAR(CONFIG.REBUILD-OS.DSC-WM-LATAM.V, \"PROD_ASSIGNMENT_MESSAGE\", 1)\n:  SET &JDA_REBUILD_IS_PROV# = \"True\"\n:ENDIF\n:PUBLISH &EVENT_ASSIGNMENT_GROUP#,,WORKFLOW\n:PUBLISH &PROD_ASSIGNMENT_MESSAGE#,,WORKFLOW\n:PUBLISH &JDA_REBUILD_IS_PROV#,,WORKFLOW\n\n! Server Name\n:DEFINE &ASERVER_NAME#, STRING, 2\n:FILL &ASERVER_NAME#[] = STR_SPLIT(&SERVER_NAME#, \".\")\n:SET &SERVER_NAME_NFQD# = &ASERVER_NAME#[1]\n:PUBLISH &SERVER_NAME_NFQD#,,WORKFLOW\n\n! Datacenter ID\n:SET &DATACENTER_ID# = SUBSTR(&SERVER_NAME#, 1, 5)\n:SET &DATACENTER_ID# = STR_UC(&DATACENTER_ID#)\n:PUBLISH &DATACENTER_ID#,,WORKFLOW\n\n! Create deployment postcheck\n:IF &OS_VERSION_ID# = \"RHEL7.9\"\n:  SET &CREATE_DEP_POSTCHECK_MAX# = 32\n:ELSE\n:  SET &CREATE_DEP_POSTCHECK_MAX# = 16\n:ENDIF\n:SET &CREATE_DEP_POSTCHECK_MAX#=FORMAT(&CREATE_DEP_POSTCHECK_MAX#)\n:PUBLISH &CREATE_DEP_POSTCHECK_MAX#,,WORKFLOW\n\n! Incident Site Update\n:SET &INC_SITE_UPDATE# = \"false\"\n:PUBLISH &INC_SITE_UPDATE#,,WORKFLOW"
  }
}